(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Y9hN:function(t,e,i){"use strict";i.r(e),i.d(e,"StaffLayoutModule",function(){return nt});var a=i("ofXK"),s=i("3Pt+"),r=i("ZB98"),o=i("fXoL"),n=i("tyNb"),c=i("F3IG"),d=i("lGQG"),l=i("iA/o"),h=i("LPYB");function b(t,e){if(1&t&&(o.Qb(0,"td",32),o.Mb(1,"br"),o.Qb(2,"a"),o.Bc(3),o.dc(4,"date"),o.Pb(),o.Mb(5,"br"),o.Mb(6,"br"),o.Pb()),2&t){const t=o.cc().$implicit;o.yb(3),o.Cc(o.fc(4,1,t.date,"MMM d, y, hh:mm a"))}}function u(t,e){if(1&t&&(o.Qb(0,"td",32),o.Qb(1,"a"),o.Bc(2),o.Pb(),o.Pb()),2&t){const t=o.cc().$implicit;o.yb(2),o.Ec(" Lead:",t.leadId.firstName," ",t.leadId.lastName,"")}}function p(t,e){if(1&t){const t=o.Rb();o.Qb(0,"tr",30),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc().onViewClick(i)}),o.zc(1,b,7,4,"td",31),o.dc(2,"date"),o.zc(3,u,3,2,"td",31),o.Pb()}if(2&t){const t=e.$implicit;o.yb(1),o.kc("ngIf",o.fc(2,2,t.date,"MMM d, y, hh:mm a")),o.yb(2),o.kc("ngIf",t.leadId.firstName||t.leadId.lastName)}}function g(t,e){if(1&t&&(o.Qb(0,"td"),o.Qb(1,"a"),o.Bc(2),o.Pb(),o.Pb()),2&t){const t=o.cc().$implicit;o.yb(2),o.Ec("",t.firstName," ",t.lastName,"")}}function m(t,e){if(1&t&&(o.Qb(0,"td"),o.Qb(1,"a"),o.Bc(2),o.Pb(),o.Pb()),2&t){const t=o.cc().$implicit;o.yb(2),o.Dc(" ",t.status,"")}}function f(t,e){if(1&t){const t=o.Rb();o.Qb(0,"tr",30),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc().onLeadViewClick(i)}),o.zc(1,g,3,2,"td",33),o.zc(2,m,3,1,"td",33),o.Pb()}if(2&t){const t=e.$implicit;o.yb(1),o.kc("ngIf",t.firstName||t.lastName),o.yb(1),o.kc("ngIf",t.status)}}let y=(()=>{class t{constructor(t,e,i,a){this.route=t,this.leadService=e,this.auth=i,this.callEventService=a,this.callEvents=[],this.lead={},this.lineBigDashboardChartLabelsData=[0,0,0,0,0,0,0,0,0,0,0,0],this.cancelledChartLabelsData=[0,0,0,0,0,0,0,0,0,0,0,0],this.convertedChartLabelsData=[0,0,0,0,0,0,0,0,0,0,0,0],this.inprogressChartLabelsData=[0,0,0,0,0,0,0],this.lineBigDashboardChartLabels1=["","","","","","","","","","","",""],this.chartWeekLabels=["","","","","","","","","","","",""]}chartClicked(t){console.log(t)}chartHovered(t){console.log(t)}hexToRGB(t,e){var i=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return e?"rgba("+i+", "+a+", "+s+", "+e+")":"rgb("+i+", "+a+", "+s+")"}groupByMonth(t,e){let i=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return t.reduce(function(t,a){let s="";return s=e?i[new Date(""+a.closedOn).getMonth()]+"-"+new Date(""+a.closedOn).getFullYear():i[new Date(""+a.createdOn).getMonth()]+"-"+new Date(""+a.createdOn).getFullYear(),t[s]||(t[s]=0),t[s]++,t},{})}groupByDay(t){let e=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return t.reduce(function(t,i){let a="";return a=e[new Date(""+i.createdOn).getMonth()]+"-"+new Date(""+i.createdOn).getDate(),t[a]||(t[a]=0),t[a]++,t},{})}getMonthArray(){var t=new Date;for(let e=11;e>=0;e--)this.lineBigDashboardChartLabels1[e]=this.lineBigDashboardChartLabels[t.getMonth()]+"-"+t.getFullYear(),t.setMonth(t.getMonth()-1)}getWeekArray(){var t=new Date;for(let e=6;e>=0;e--)this.chartWeekLabels[e]=this.lineBigDashboardChartLabels[t.getMonth()]+"-"+t.getDate(),t.setDate(t.getDate()-1)}getStatusWiseLeads(t){return t.reduce(function(t,e){let i=e.status;return t[i]||(t[i]=[]),t[i].push(e),t},{})}ngOnInit(){this.callEventService.getCalleventsByUser(this.auth.currentUser._id).subscribe(t=>{t.reverse(),t.sort((t,e)=>new Date(e.date)-new Date(t.date));for(var e=0;e<t.length;e++)this.callEvents.length<10&&this.callEvents.push(t[e])},t=>{}),this.leadDetails1=[],this.chartColor="#FFFFFF",this.lineBigDashboardChartLabels=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.leadService.getLeadsByAssgnedId(this.auth.currentUser._id).subscribe(t=>{if(t.length>0)for(var e in t.reverse(),t)this.leadDetails1.length<10&&this.leadDetails1.push(t[e]);else this.leadDetails1=t;let i=this.groupByMonth(t,!1),a=this.getStatusWiseLeads(t);this.getMonthArray(),this.getWeekArray();let s={},r={},o={};a.CANCELLED&&(s=this.groupByMonth(a.CANCELLED,!0)),a.CONVERTED&&(r=this.groupByMonth(a.CONVERTED,!0)),a.INPROGRESS&&(o=this.groupByDay(a.INPROGRESS));let n=0;this.lineBigDashboardChartLabels1.forEach(t=>{i[t]&&(this.lineBigDashboardChartLabelsData[n]=parseInt(""+i[t])),s[t]&&(this.cancelledChartLabelsData[n]=parseInt(""+s[t])),r[t]&&(this.convertedChartLabelsData[n]=parseInt(""+r[t])),n++}),n=0,this.chartWeekLabels.forEach(t=>{o[t]&&(this.inprogressChartLabelsData[n]=parseInt(""+o[t])),n++}),this.chartColor="#FFFFFF",this.canvas=document.getElementById("bigDashboardChart"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#80b6f4"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,200,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,"rgba(255, 255, 255, 0.24)"),this.lineBigDashboardChartData=[{label:"Leads",pointBorderWidth:1,pointHoverRadius:7,pointHoverBorderWidth:2,pointRadius:5,fill:!0,borderWidth:2,data:this.lineBigDashboardChartLabelsData}],this.lineBigDashboardChartColors=[{backgroundColor:this.gradientFill,borderColor:this.chartColor,pointBorderColor:this.chartColor,pointBackgroundColor:"#2c2c2c",pointHoverBackgroundColor:"#2c2c2c",pointHoverBorderColor:this.chartColor}],this.lineBigDashboardChartOptions={layout:{padding:{left:20,right:20,top:0,bottom:0}},maintainAspectRatio:!1,tooltips:{backgroundColor:"#fff",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},legend:{position:"bottom",fillStyle:"#FFF",display:!1},scales:{yAxes:[{ticks:{fontColor:"rgba(255,255,255,0.4)",fontStyle:"bold",beginAtZero:!0,maxTicksLimit:5,padding:10},gridLines:{drawTicks:!0,drawBorder:!1,display:!0,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"}}],xAxes:[{gridLines:{zeroLineColor:"transparent",display:!1},ticks:{padding:10,fontColor:"rgba(255,255,255,0.4)",fontStyle:"bold"}}]}},this.lineBigDashboardChartType="line",this.gradientChartOptionsConfiguration={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:1,scales:{yAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:10,right:10,top:15,bottom:15}}},this.gradientChartOptionsConfigurationWithNumbersAndGrid={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:!0,scales:{yAxes:[{gridLines:{zeroLineColor:"transparent",drawBorder:!1},ticks:{stepSize:500}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:10,right:10,top:15,bottom:15}}},this.canvas=document.getElementById("lineChartExample"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#80b6f4"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,"rgba(249, 99, 59, 0.40)"),this.lineChartData=[{label:"Leads",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:2,data:this.cancelledChartLabelsData}],this.lineChartColors=[{borderColor:"#f96332",pointBorderColor:"#FFF",pointBackgroundColor:"#f96332",backgroundColor:this.gradientFill}],this.lineChartOptions=this.gradientChartOptionsConfiguration,this.lineChartType="line",this.canvas=document.getElementById("lineChartExampleWithNumbersAndGrid"),this.ctx=this.canvas.getContext("2d"),this.gradientStroke=this.ctx.createLinearGradient(500,0,100,0),this.gradientStroke.addColorStop(0,"#18ce0f"),this.gradientStroke.addColorStop(1,this.chartColor),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,this.hexToRGB("#18ce0f",.4)),this.lineChartWithNumbersAndGridData=[{label:"Leads",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:2,data:this.convertedChartLabelsData}],this.lineChartWithNumbersAndGridColors=[{borderColor:"#18ce0f",pointBorderColor:"#FFF",pointBackgroundColor:"#18ce0f",backgroundColor:this.gradientFill}],this.lineChartWithNumbersAndGridLabels=["12pm,","3pm","6pm","9pm","12am","3am","6am","9am"],this.lineChartWithNumbersAndGridOptions=this.gradientChartOptionsConfigurationWithNumbersAndGrid,this.lineChartWithNumbersAndGridType="line",this.canvas=document.getElementById("barChartSimpleGradientsNumbers"),this.ctx=this.canvas.getContext("2d"),this.gradientFill=this.ctx.createLinearGradient(0,170,0,50),this.gradientFill.addColorStop(0,"rgba(128, 182, 244, 0)"),this.gradientFill.addColorStop(1,this.hexToRGB("#2CA8FF",.6)),this.lineChartGradientsNumbersData=[{label:"Leads",pointBorderWidth:2,pointHoverRadius:4,pointHoverBorderWidth:1,pointRadius:4,fill:!0,borderWidth:1,data:this.inprogressChartLabelsData}],this.lineChartGradientsNumbersColors=[{backgroundColor:this.gradientFill,borderColor:"#2CA8FF",pointBorderColor:"#FFF",pointBackgroundColor:"#2CA8FF"}],this.lineChartGradientsNumbersOptions={maintainAspectRatio:!1,legend:{display:!1},tooltips:{bodySpacing:4,mode:"nearest",intersect:0,position:"nearest",xPadding:10,yPadding:10,caretPadding:10},responsive:1,scales:{yAxes:[{gridLines:{zeroLineColor:"transparent",drawBorder:!1},ticks:{stepSize:10}}],xAxes:[{display:0,ticks:{display:!1},gridLines:{zeroLineColor:"transparent",drawTicks:!1,display:!1,drawBorder:!1}}]},layout:{padding:{left:15,right:15,top:15,bottom:15}}},this.lineChartGradientsNumbersType="bar"})}onViewClick(t){this.route.navigate(["staff-single-lead/"+t.leadId._id])}onLeadViewClick(t){this.route.navigate(["staff-single-lead/"+t._id])}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(n.d),o.Lb(c.a),o.Lb(d.a),o.Lb(l.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-dashboard-staff"]],decls:81,vars:28,consts:[[1,"panel-header","panel-header-lg"],[2,"color","white","margin-top","-40px","margin-left","30px"],["baseChart","","id","bigDashboardChart",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"main-content"],[1,"row"],[1,"col-lg-4","col-md-6"],[1,"card","card-chart"],[1,"card-header"],[1,"card-category"],[1,"card-title"],[1,"card-body"],[1,"chart-area"],["baseChart","","id","lineChartExampleWithNumbersAndGrid",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"card-footer"],[1,"stats"],[1,"now-ui-icons","arrows-1_refresh-69"],["baseChart","","id","barChartSimpleGradientsNumbers",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"now-ui-icons","ui-2_time-alarm"],[1,"col-lg-4"],["baseChart","","id","lineChartExample",3,"datasets","labels","colors","options","chartType","chartHover","chartClick"],[1,"col-md-6"],[1,"card","card-tasks"],[1,"table-full-width","table-responsive"],[1,"table"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"now-ui-icons","loader_refresh","spin"],[1,"card"],[1,"table-responsive"],[1,"text-primary"],[2,"color","#7e120e"],[2,"cursor","pointer",3,"click"],["class","text-left",4,"ngIf"],[1,"text-left"],[4,"ngIf"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"h4",1),o.Bc(2),o.dc(3,"titlecase"),o.dc(4,"titlecase"),o.Pb(),o.Qb(5,"canvas",2),o.ac("chartHover",function(t){return e.chartHovered(t)})("chartClick",function(t){return e.chartClicked(t)}),o.Pb(),o.Pb(),o.Qb(6,"div",3),o.Qb(7,"div",4),o.Qb(8,"div",5),o.Qb(9,"div",6),o.Qb(10,"div",7),o.Qb(11,"h5",8),o.Bc(12,"Last 12 Months"),o.Pb(),o.Qb(13,"h4",9),o.Bc(14,"Converted Leads"),o.Pb(),o.Pb(),o.Qb(15,"div",10),o.Qb(16,"div",11),o.Qb(17,"canvas",12),o.ac("chartHover",function(t){return e.chartHovered(t)})("chartClick",function(t){return e.chartClicked(t)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",13),o.Qb(19,"div",14),o.Mb(20,"i",15),o.Bc(21," Just Updated "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(22,"div",5),o.Qb(23,"div",6),o.Qb(24,"div",7),o.Qb(25,"h5",8),o.Bc(26,"Last 7 Days"),o.Pb(),o.Qb(27,"h4",9),o.Bc(28,"In-Progress Leads"),o.Pb(),o.Pb(),o.Qb(29,"div",10),o.Qb(30,"div",11),o.Qb(31,"canvas",16),o.ac("chartHover",function(t){return e.chartHovered(t)})("chartClick",function(t){return e.chartClicked(t)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(32,"div",13),o.Qb(33,"div",14),o.Mb(34,"i",17),o.Bc(35," Last 7 days "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(36,"div",18),o.Qb(37,"div",6),o.Qb(38,"div",7),o.Qb(39,"h5",8),o.Bc(40,"Last 12 Months"),o.Pb(),o.Qb(41,"h4",9),o.Bc(42,"Cancelled Leads"),o.Pb(),o.Pb(),o.Qb(43,"div",10),o.Qb(44,"div",11),o.Qb(45,"canvas",19),o.ac("chartHover",function(t){return e.chartHovered(t)})("chartClick",function(t){return e.chartClicked(t)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(46,"div",13),o.Qb(47,"div",14),o.Mb(48,"i",15),o.Bc(49," Just Updated "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(50,"div",4),o.Qb(51,"div",20),o.Qb(52,"div",21),o.Qb(53,"div",7),o.Qb(54,"h4",9),o.Bc(55,"Events"),o.Pb(),o.Pb(),o.Qb(56,"div",10),o.Qb(57,"div",22),o.Qb(58,"table",23),o.Qb(59,"tbody"),o.zc(60,p,4,5,"tr",24),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(61,"div",13),o.Mb(62,"hr"),o.Qb(63,"div",14),o.Mb(64,"i",25),o.Bc(65," Updated 3 minutes ago "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(66,"div",20),o.Qb(67,"div",26),o.Qb(68,"div",7),o.Qb(69,"h4",9),o.Bc(70," Lead Status"),o.Pb(),o.Pb(),o.Qb(71,"div",10),o.Qb(72,"div",27),o.Qb(73,"table",23),o.Qb(74,"thead",28),o.Qb(75,"th",29),o.Bc(76," Name "),o.Pb(),o.Qb(77,"th",29),o.Bc(78," Status "),o.Pb(),o.Pb(),o.Qb(79,"tbody"),o.zc(80,f,3,2,"tr",24),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.yb(2),o.Ec("",o.ec(3,24,e.auth.currentUser.firstName)," ",o.ec(4,26,e.auth.currentUser.lastName),""),o.yb(3),o.kc("datasets",e.lineBigDashboardChartData)("labels",e.lineBigDashboardChartLabels1)("colors",e.lineBigDashboardChartColors)("options",e.lineBigDashboardChartOptions)("chartType",e.lineBigDashboardChartType),o.yb(12),o.kc("datasets",e.lineChartWithNumbersAndGridData)("labels",e.lineBigDashboardChartLabels1)("colors",e.lineChartWithNumbersAndGridColors)("options",e.lineChartWithNumbersAndGridOptions)("chartType",e.lineChartWithNumbersAndGridType),o.yb(14),o.kc("datasets",e.lineChartGradientsNumbersData)("labels",e.chartWeekLabels)("colors",e.lineChartGradientsNumbersColors)("options",e.lineChartGradientsNumbersOptions)("chartType",e.lineChartGradientsNumbersType),o.yb(14),o.kc("datasets",e.lineChartData)("labels",e.lineBigDashboardChartLabels1)("colors",e.lineChartColors)("options",e.lineChartOptions)("chartType",e.lineChartType),o.yb(15),o.kc("ngForOf",e.callEvents),o.yb(20),o.kc("ngForOf",e.leadDetails1))},directives:[h.a,a.l,a.m],pipes:[a.s,a.e],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer;color:#00f!important}.blue-ink[_ngcontent-%COMP%]{background:#7e120e}.blue-link-heading[_ngcontent-%COMP%]{color:#7e120e}"]}),t})();var v=i("/de2"),C=i("Qaa1"),P=i("sxl7"),w=i("IbBu");let k=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-dashboard-accountstaff"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Qb(0,"p"),o.Bc(1,"dashboard-accountstaff works!"),o.Pb())},styles:[""]}),t})(),Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-dashboard-accountandstaff"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Qb(0,"p"),o.Bc(1,"dashboard-accountandstaff works!"),o.Pb())},styles:[""]}),t})();var B=i("oAQR"),L=i("tVNX"),S=i("0RM/"),D=i("cFsk"),F=i("4KMs"),O=i("0TsN"),x=i("HSEp");let M=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-dashboard-teacher"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Qb(0,"p"),o.Bc(1,"dashboard-teacher works!"),o.Pb())},styles:[""]}),t})(),_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-dashboard-student"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Qb(0,"p"),o.Bc(1,"dashboard-student works!"),o.Pb())},styles:[""]}),t})();var N=i("pE6L"),A=i("dIUw"),E=i("yXkd"),I=i("9yIk"),j=i("9Oj1"),R=i("+T8r"),T=i("kSsl"),U=i("GzNL"),G=i("2mZJ"),W=i("JmRu"),z=i("XUiw"),H=i("uhus"),$=i("XMJk"),J=i("tk/3"),V=i("ZmP2");function Y(t,e){if(1&t&&(o.Qb(0,"span"),o.Bc(1),o.Pb()),2&t){const t=o.cc();o.yb(1),o.Cc(t.cBranch)}}function X(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",13),o.Qb(1,"div",14),o.Qb(2,"div",15),o.Qb(3,"div",3),o.Qb(4,"div",16),o.Qb(5,"h3",17),o.Bc(6),o.Pb(),o.Pb(),o.Pb(),o.Mb(7,"br"),o.Qb(8,"div",3),o.Qb(9,"div",18),o.Qb(10,"button",19),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).getStudymaterials(i._id,i.subject)}),o.Bc(11," View Materials"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(12,"div",20),o.Mb(13,"div",21),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit;o.yb(6),o.Dc("",t.subject," ")}}function Z(t,e){if(1&t&&(o.Qb(0,"div",3),o.zc(1,X,14,1,"div",12),o.Pb()),2&t){const t=o.cc();o.yb(1),o.kc("ngForOf",t.studentCoursesubjects)}}function K(t,e){if(1&t&&(o.Qb(0,"span",26),o.Bc(1),o.dc(2,"date"),o.Pb()),2&t){const t=o.cc().$implicit;o.yb(1),o.Dc(" last updated on ",o.fc(2,1,t.materials[t.materials.length-1].uploadDate,"medium")," ")}}function q(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",13),o.Qb(1,"div",14),o.Qb(2,"div",15),o.Qb(3,"div",3),o.Qb(4,"div",16),o.Qb(5,"h3",17),o.Bc(6),o.Pb(),o.Pb(),o.Pb(),o.Mb(7,"br"),o.zc(8,K,3,4,"span",22),o.Mb(9,"br"),o.Qb(10,"div",3),o.Qb(11,"div",23),o.Qb(12,"button",19),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).getImageofstudymaterials(i.materials,i.name)}),o.Bc(13," View files"),o.Pb(),o.Pb(),o.Qb(14,"div",24),o.Qb(15,"button",25),o.ac("click",function(){return o.tc(t),o.cc(2).onstudymaterialbackClick()}),o.Bc(16," Back"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(17,"div",20),o.Mb(18,"div",21),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit;o.yb(6),o.Dc("",t.name," "),o.yb(2),o.kc("ngIf",t.materials.length)}}function tt(t,e){if(1&t&&(o.Qb(0,"div",3),o.zc(1,q,19,2,"div",12),o.Pb()),2&t){const t=o.cc();o.yb(1),o.kc("ngForOf",t.studymaterialOf_singlesubject)}}function et(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",28),o.Qb(1,"div",29),o.Qb(2,"span",30),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).showPdf(i.path)}),o.Bc(3),o.Pb(),o.Pb(),o.Qb(4,"div",31),o.Qb(5,"i",32),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).downloadsingleFile(i.path)}),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit;o.yb(2),o.lc("title",t.name),o.yb(1),o.Dc(" ",t.name," ")}}function it(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",28),o.Qb(1,"div",29),o.Qb(2,"span",30),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).showPdf(i.path)}),o.Bc(3),o.Pb(),o.Pb(),o.Qb(4,"div",31),o.Qb(5,"i",32),o.ac("click",function(){o.tc(t);const i=e.$implicit;return o.cc(2).downloadsingleFile(i.path)}),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit;o.yb(2),o.lc("title",t.name),o.yb(1),o.Dc(" ",t.name," ")}}function at(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",3),o.Qb(1,"div",16),o.Qb(2,"div",14),o.Qb(3,"div",15),o.Qb(4,"h4"),o.Bc(5),o.Pb(),o.zc(6,et,6,2,"div",27),o.Qb(7,"h4"),o.Bc(8),o.Pb(),o.zc(9,it,6,2,"div",27),o.Mb(10,"br"),o.Qb(11,"div",3),o.Qb(12,"div",23),o.Qb(13,"button",19),o.ac("click",function(){return o.tc(t),o.cc().downloadAllStudyMaterials()}),o.Bc(14," Download All"),o.Pb(),o.Pb(),o.Qb(15,"div",24),o.Qb(16,"button",25),o.ac("click",function(){return o.tc(t),o.cc().onfilesbackClick()}),o.Bc(17," Back"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",20),o.Mb(19,"div",21),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=o.cc();o.yb(5),o.Dc("Files (",t.pdf_length,")"),o.yb(1),o.kc("ngForOf",t.pdfdocs_studymaterial),o.yb(2),o.Dc("Images (",t.img_length,")"),o.yb(1),o.kc("ngForOf",t.imagedocs_studymaterial)}}const st=[{path:"staff-dashboard",component:y},{path:"teacher-dashboard",component:M},{path:"student-dashboard",component:_},{path:"user-profile",component:v.a},{path:"staff-lead",component:r.a},{path:"staff-single-lead/:id",component:C.a},{path:"view_events/:id",component:P.a},{path:"staff-admission-form",component:w.a},{path:"staff-admission-form/:id",component:w.a},{path:"accountstaff-dashboard",component:k},{path:"accountandstaff-dashboard",component:Q},{path:"admissionform-display",component:B.a},{path:"staff-admissionform-singleview/:id",component:L.a},{path:"staff-candidate-management",component:D.a},{path:"fee-collection/:id",component:S.a},{path:"staff-candidate-singleview/:id",component:F.a},{path:"staff-closedAdmissionform-display",component:O.a},{path:"staff-admissionform-edit/:id",component:x.a},{path:"teacher-course",component:N.a},{path:"teacher-courseform-edit/:id",component:A.a},{path:"teacher-courseform-singleview/:id/:center",component:E.a},{path:"teacher-course_branch_view",component:I.a},{path:"student-admissionformdirect",component:j.a},{path:"student-coursedetails",component:R.a},{path:"teacher-display-booklibrary",component:T.a},{path:"teacher-create-booklibrary",component:U.a},{path:"teacher-addsubandmaterial/:id",component:G.a},{path:"student-display-booklibrary",component:(()=>{class t{constructor(t,e,i,a,s,r,o,n,c){this.auth=t,this.route=e,this.studentService=i,this.coursesubjectService=a,this.studymaterialService=s,this.toast=r,this.httpClient=o,this.booklibraryService=n,this.datePipe=c,this.student={},this.studentCoursesubjects=[],this.showSubjects=!1,this.showFiles=!1,this.showMaterials=!1,this.whenclicked=!1,this.material_length=0,this.studymaterialOf_singlesubject=[],this.studymaterial_download=[],this.imagedocs_studymaterial=[],this.pdfdocs_studymaterial=[],this.studymaterialfile_length=0,this.showYearwiseTable=!1,this.yearLength=Array,this.yrlen=3,this.pdf_length=0,this.img_length=0,this.showSemesters=!1,this.semLength=Array}ngOnInit(){console.log(this.auth.currentUser,"curuser"),this.getForm()}getForm(){"student"==this.auth.currentUser.roles[0]&&this.studentService.getStudentByUsername({username:this.auth.currentUser.email}).subscribe(t=>{console.log(t,"userdataa"),t.studentCourse&&(this.cName=t.studentCourse[0].course_name,this.cType=t.studentCourse[0].course_type,this.cBranch=t.studentCourse[0].course_branch,this.cUniversity=t.boardOrUniversityID,this.universityname=t.studentCourse[0].boardOrUniversity),this.cBranch?this.booklibraryService.getBooklibraryWithNameBranchType(this.cName,this.cType,this.cBranch,this.cUniversity).subscribe(t=>{console.log(t,"book libra"),this.booklibraryid=t[0]._id,this.yrlen=Number(t[0].numberofyears),this.semlen=Number(t[0].semperyear),this.getSubjectsofCourse(this.booklibraryid)}):this.booklibraryService.getBooklibraryWithNameType(this.cName,this.cType,this.cUniversity).subscribe(t=>{console.log(t,"book libra"),this.booklibraryid=t[0]._id,this.yrlen=Number(t[0].numberofyears),this.getSubjectsofCourse(this.booklibraryid)}),console.log(this.student,"   student lll")})}onYearClick(t){this.selectYear=t,this.showSemesters=!0,this.showYearwiseTable=!1,this.showSubjects=!0,this.showMaterials=!1,this.showFiles=!1}onSemesterClick(t){this.selectSemester=t,this.showSemesters=!0,this.showYearwiseTable=!0,this.showSubjects=!0,this.showMaterials=!1,this.showFiles=!1}getSubjectsofCourse(t){this.coursesubjectService.getCoursesubjectsByCourse(t).subscribe(t=>{this.studentCoursesubjects=[],this.studymaterialOf_singlesubject=[];for(var e=0;e<t.length;e++)this.studentCoursesubjects.push(t[e]);this.showSubjects=this.studentCoursesubjects.length>0,console.log(this.studentCoursesubjects,"course subj")})}getStudymaterials(t,e){this.subjectname=e,console.log("subindex",t),this.studymaterialService.getStudymaterialsBySubject(t).subscribe(t=>{this.whenclicked=!0,this.material_length=t.length,this.material_length>0?(this.showMaterials=!0,this.showSubjects=!1):(this.showMaterials=!1,this.showSubjects=!0),this.studymaterialOf_singlesubject=t,console.log(this.studymaterialOf_singlesubject,"materials")})}getImageofstudymaterials(t,e){if(this.studymaterial_download=[],this.studymaterial_download=t,this.imagedocs_studymaterial=[],this.pdfdocs_studymaterial=[],this.name_of_image_studymaterial="others",this.studymaterialname=e,this.studymaterialfile_length=t.length,this.showMaterials=!1,this.showFiles=!0,this.showSubjects=!1,t.length>0){for(let e=0;e<t.length;e++){console.log("other   ",t[e].imagepath);let i=t[e].imagepath.lastIndexOf(".");if(this.extension=t[e].imagepath.slice(i+1),console.log(i,"  position"),console.log(this.extension,"   exten"),"png"==this.extension||"jpeg"==this.extension||"jpg"==this.extension||"gif"==this.extension){console.log("not pdf");let[i,a]=t[e].imagepath.split("/").pop().split(".").slice(0,2),s=`${i}.${a}`,r=t[e].imagepath,o=this.datePipe.transform(t[e].uploadDate,"medium");this.imagedocs_studymaterial.push({name:s,path:r,uploaddate:o})}else{console.log("in pdf");let i=t[e].imagepath.split("/").pop().split(".").slice(0,-1).join(".").split("-")[0],a=t[e].imagepath,s=this.datePipe.transform(t[e].uploadDate,"medium");this.pdfdocs_studymaterial.push({name:i,path:a,uploaddate:s}),console.log("pdf",this.pdfdocs_studymaterial)}}this.pdfdocs_studymaterial.forEach(t=>{t.dateObj=new Date(t.uploaddate)}),this.pdfdocs_studymaterial.sort((t,e)=>e.dateObj-t.dateObj),this.pdfdocs_studymaterial.forEach(t=>{delete t.dateObj}),this.imagedocs_studymaterial.forEach(t=>{t.dateObj=new Date(t.uploaddate)}),this.imagedocs_studymaterial.sort((t,e)=>e.dateObj-t.dateObj),this.imagedocs_studymaterial.forEach(t=>{delete t.dateObj}),this.pdf_length=this.pdfdocs_studymaterial.length,this.img_length=this.imagedocs_studymaterial.length,console.log(this.pdfdocs_studymaterial,"his.pdfdocs_studymaterial"),console.log(this.imagedocs_studymaterial,"image study")}}downloadAllStudyMaterials(){for(let t=0;t<this.studymaterial_download.length;t++){this.imgUrl=this.studymaterial_download[t].imagepath;const e=this.imgUrl.substr(this.imgUrl.lastIndexOf("/")+1);this.httpClient.get(this.imgUrl,{responseType:"blob"}).subscribe(t=>{const i=new Blob([t],{type:t.type});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(i);const a=window.URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=e,s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(a),s.remove()},100)})}}showPdf(t){console.log(t,"view url"),window.open(t,"_blank")}downloadsingleFile(t){this.imgUrl=t;const e=this.imgUrl.substr(this.imgUrl.lastIndexOf("/")+1);this.httpClient.get(this.imgUrl,{responseType:"blob"}).subscribe(t=>{const i=new Blob([t],{type:t.type});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(i);const a=window.URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=e,s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(a),s.remove()},100)})}onstudymaterialbackClick(){this.showMaterials=!1,this.showSubjects=!0}onfilesbackClick(){this.showFiles=!1,this.showMaterials=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(d.a),o.Lb(n.d),o.Lb(W.a),o.Lb(z.a),o.Lb(H.a),o.Lb($.a),o.Lb(J.b),o.Lb(V.a),o.Lb(a.e))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-student-booklibrary-view"]],decls:22,vars:9,consts:[[1,"panel-header","panel-header-sm"],[2,"color","white","margin-top","-40px","margin-left","30px"],[1,"main-content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"col-md-12",2,"padding-top","16px"],[1,"card-title"],[4,"ngIf"],[1,"card-body"],["class","row",4,"ngIf"],["class","col-lg-4 col-md-6 col-sm-6",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-warning","card-header-icon"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"card-title","text-center",2,"font-size","1.3em"],[1,"col-lg-12","col-md-12","col-sm-12","text-center"],["type","button",1,"btn","btn-outline-success",2,"padding","11px 18px","background-color","#7e120e",3,"click"],[1,"card-footer"],[1,"stats"],["style","color: red;",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-6","text-left"],[1,"col-lg-6","col-md-6","col-sm-6","text-right"],["type","button",1,"btn","btn-outline-success",2,"padding","11px 25px","background-color","#7e120e",3,"click"],[2,"color","red"],["class","row linehoverstyle",4,"ngFor","ngForOf"],[1,"row","linehoverstyle"],[1,"col-lg-10","col-md-10","col-sm-10"],["data-toggle","tooltip","data-placement","top","aria-hidden","true",2,"font-size","18px","text-align","left","cursor","pointer",3,"title","click"],[1,"col-lg-2","col-md-2","col-sm-2"],["aria-hidden","true",1,"fa","fa-download",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Mb(1,"h4",1),o.Pb(),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"div",4),o.Qb(5,"div",5),o.Qb(6,"div",6),o.Qb(7,"div",3),o.Qb(8,"div",7),o.Qb(9,"h4",8),o.Bc(10),o.zc(11,Y,2,1,"span",9),o.Bc(12),o.dc(13,"titlecase"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(14,"div",10),o.Qb(15,"h4"),o.Bc(16,"Subjects"),o.Pb(),o.Mb(17,"br"),o.Qb(18,"div"),o.zc(19,Z,2,1,"div",11),o.zc(20,tt,2,1,"div",11),o.zc(21,at,20,4,"div",11),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.yb(10),o.Dc("",e.cName,"\xa0 "),o.yb(1),o.kc("ngIf",e.cBranch),o.yb(1),o.Ec("\xa0",e.cType,"\xa0",o.ec(13,7,e.universityname)," - Course subjects "),o.yb(7),o.kc("ngIf",e.showSubjects),o.yb(1),o.kc("ngIf",e.showMaterials),o.yb(1),o.kc("ngIf",e.showFiles))},directives:[a.m,a.l],pipes:[a.s,a.e],styles:[""]}),t})()}];var rt=i("1kSV"),ot=i("5eHb");let nt=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[a.b,n.g.forChild(st),s.h,h.b,rt.g,s.r,ot.a.forRoot()]]}),t})()}}]);